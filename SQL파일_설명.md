# SQL íŒŒì¼ ì„¤ëª…ì„œ

## ğŸ“‚ ì‚¬ìš© ì¤‘ì¸ SQL íŒŒì¼ (3ê°œ)

### 1. `create_tables_sqlite.sql` â­ ì‹¤ì œ ì‚¬ìš©
**ëª©ì **: SQLite ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„±

**ì‚¬ìš© ì‹œì **: `python main.py --mode load` ë˜ëŠ” `--mode all` ì‹¤í–‰ ì‹œ

**ë‚´ìš©**:
- 5ê°œ í…Œì´ë¸” ìƒì„± (DDL)
  - `dim_region` - ì§€ì—­ ì°¨ì› í…Œì´ë¸”
  - `dim_industry` - ì‚°ì—… ì°¨ì› í…Œì´ë¸”
  - `fact_unemployment_monthly` - ì›”ë³„ ì‹¤ì—…ë¥ 
  - `fact_employment_by_industry_monthly` - ì‚°ì—…ë³„ ê³ ìš©
  - `fact_population_yearly` - ì—°ë„ë³„ ì¸êµ¬

**ìë™ ì‹¤í–‰**: `src/db_loader.py`ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

---

### 2. `insights_sqlite.sql` â­ ì‹¤ì œ ì‚¬ìš©
**ëª©ì **: SQL ê¸°ë°˜ ë°ì´í„° ë¶„ì„ (5ê°€ì§€ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ)

**ì‚¬ìš© ì‹œì **: `python main.py --mode analyze` ë˜ëŠ” `--mode all` ì‹¤í–‰ ì‹œ

**ë‚´ìš©**:
1. **[ì¸ì‚¬ì´íŠ¸ 1]** ì‹¤ì—…ë¥  ê°ì†Œ ê¸°ì—¬ ì‚°ì—…
2. **[ì¸ì‚¬ì´íŠ¸ 2]** ì‹¤ì—…ë¥  ë³€ë™ì„± (ê³ ìš© ë¶ˆì•ˆì •ì„±)
3. **[ì¸ì‚¬ì´íŠ¸ 3]** ì‚°ì—… ë‹¤ê°í™” ì§€ìˆ˜ (HHI ê¸°ë°˜)
4. **[ì¸ì‚¬ì´íŠ¸ 4]** ê³ ìš© íšŒë³µë ¥ (COVID-19 ì „í›„)
5. **[ì¸ì‚¬ì´íŠ¸ 5]** ê²½ì œí™œë™ì°¸ê°€ìœ¨ ë³€í™”

**ìë™ ì‹¤í–‰**: `src/analyzer.py`ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

---

### 3. `create_tables_mysql_erd.sql` ğŸ“Š ERD ìƒì„±ìš©
**ëª©ì **: MySQL Workbenchì—ì„œ ERD(ë‹¤ì´ì–´ê·¸ë¨) ìƒì„±

**ì‚¬ìš© ì‹œì **: MySQL Workbenchì—ì„œ ìˆ˜ë™ ì‹¤í–‰

**ë‚´ìš©**:
- SQLiteì™€ ë™ì¼í•œ í…Œì´ë¸” êµ¬ì¡°
- MySQL ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±
- í•œê¸€ COMMENT ì¶”ê°€ (ERDì— í‘œì‹œë¨)
- `year_month` ë°±í‹± ì²˜ë¦¬ (MySQL í˜¸í™˜)

**ì‹¤í–‰ ë°©ë²•**:
1. MySQL Workbench ì‹¤í–‰
2. ì´ íŒŒì¼ ì—´ê¸°
3. ì „ì²´ ì„ íƒ â†’ Execute
4. Database â†’ Reverse Engineer â†’ ERD ìë™ ìƒì„±

**ê²°ê³¼**: í…Œì´ë¸” ê´€ê³„ë„ PNG/PDFë¡œ ì €ì¥ ê°€ëŠ¥

---

## ğŸ—„ï¸ Archive í´ë” (ì‚¬ìš© ì•ˆ í•¨)

`sql/archive/` í´ë”ì— ì´ë™ëœ íŒŒì¼ë“¤:
- `create_tables.sql` - MySQL ì›ë³¸ (SQLiteë¡œ ì „í™˜í•˜ë©´ì„œ ë¶ˆí•„ìš”)
- `insights.sql` - MySQLìš© ì¸ì‚¬ì´íŠ¸ ì¿¼ë¦¬ (SQLite ë²„ì „ ì‚¬ìš©)
- `analysis_queries.sql` - ê¸°ë³¸ ë¶„ì„ ì¿¼ë¦¬ (insightsë¡œ í†µí•©)
- `sample_queries.sql` - ìƒ˜í”Œ ì¿¼ë¦¬ (í…ŒìŠ¤íŠ¸ìš©)

**ì‚­ì œí•´ë„ ë¨**: í”„ë¡œì íŠ¸ ì‹¤í–‰ì— ì˜í–¥ ì—†ìŒ

---

## ğŸ”„ SQL íŒŒì¼ ì‹¤í–‰ íë¦„

### ì „ì²´ íŒŒì´í”„ë¼ì¸ (`python main.py --mode all`)

```
1. ETL (ë°ì´í„° ì •ì œ)
   â””â”€> src/etl.py

2. DB ì ì¬
   â””â”€> src/db_loader.py
       â””â”€> create_tables_sqlite.sql ì‹¤í–‰ âœ…
       â””â”€> DataFrame.to_sql() (ë°ì´í„° ì‚½ì…)

3. SQL ë¶„ì„
   â””â”€> src/analyzer.py
       â””â”€> insights_sqlite.sql ì‹¤í–‰ âœ…
       â””â”€> 5ê°œ ì¿¼ë¦¬ ìˆœì°¨ ì‹¤í–‰
       â””â”€> ê²°ê³¼ë¥¼ DataFrameìœ¼ë¡œ ë°˜í™˜

4. AI/ML ë¶„ì„
   â””â”€> src/ml_models.py
       â””â”€> SQLë¡œ ë°ì´í„° ë¡œë“œ
       â””â”€> ML ëª¨ë¸ ì‹¤í–‰
       â””â”€> PNG ì‹œê°í™” ì €ì¥
```

---

## ğŸ’¡ ìš”ì•½

| íŒŒì¼ | ìš©ë„ | ìë™ ì‹¤í–‰? | í•„ìˆ˜? |
|------|------|-----------|-------|
| `create_tables_sqlite.sql` | DB í…Œì´ë¸” ìƒì„± | âœ… ìë™ | âœ… í•„ìˆ˜ |
| `insights_sqlite.sql` | SQL ë¶„ì„ (5ê°œ) | âœ… ìë™ | âœ… í•„ìˆ˜ |
| `create_tables_mysql_erd.sql` | ERD ìƒì„± | âŒ ìˆ˜ë™ | â­ ì„ íƒ (ë³´ê³ ì„œìš©) |
| `archive/*` | ì‚¬ìš© ì•ˆ í•¨ | - | âŒ ë¶ˆí•„ìš” |

**í•µì‹¬**: ì‹¤ì œë¡œëŠ” **2ê°œ íŒŒì¼ë§Œ** ìë™ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤!
- `create_tables_sqlite.sql` - í…Œì´ë¸” ìƒì„±
- `insights_sqlite.sql` - ë¶„ì„

**ERD íŒŒì¼**ì€ ë³´ê³ ì„œ/ë°œí‘œìš© ë‹¤ì´ì–´ê·¸ë¨ì´ í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©.
